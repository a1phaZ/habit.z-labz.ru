{"version":3,"sources":["state/index.js","state/actions.js","components/HabitList.js","panels/Home.js","hooks/useLocalStorage.js","panels/Startup.js","panels/Preloader.js","App.js","index.js"],"names":["initialState","view","panel","activeModal","reducer","state","action","type","payload","modal","State","createContext","StateProvider","children","value","useReducer","Provider","HabitList","habits","map","habit","index","key","header","title","subheader","daysComplete","days","status","mode","asideMode","Home","id","useContext","dispatch","vertical","onClick","before","initialValue","useState","localStorage","getItem","setValue","setLocalStorageValue","setItem","templates","icon","buttonText","placeholderText","placeholder","Startup","useLocalStorage","setDone","dispatchStartup","Preloader","doneStartup","useEffect","done","JSON","parse","osName","platform","App","appState","dispatchApp","setTitle","setDays","modalBack","onClose","left","IOS","right","onSubmit","e","preventDefault","lastModified","Date","required","onChange","currentTarget","top","min","max","step","d","activeView","activePanel","bridge","subscribe","detail","data","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","send","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5ceb91c3.chunk.js","sourcesContent":["import {SET_VIEW, SET_PANEL, SET_MODAL} from \"./actions\";\r\nimport React, {createContext, useReducer} from 'react';\r\n\r\nconst initialState = {\r\n\tview: 'preloader',\r\n\tpanel: 'preloader',\r\n\tactiveModal: null\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_VIEW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tview: action.payload.view,\r\n\t\t\t\tpanel: action.payload.panel\r\n\t\t\t}\r\n\t\tcase SET_PANEL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpanel: action.payload.panel\r\n\t\t\t}\r\n\t\tcase SET_MODAL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tactiveModal: action.payload.modal\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const State = createContext();\r\n\r\nexport const StateProvider = ({children}) => {\r\n\tconst value = useReducer(reducer, initialState);\r\n\treturn (\r\n\t\t<State.Provider value={value}>\r\n\t\t\t{children}\r\n\t\t</State.Provider>\r\n\t)\r\n}","export const SET_VIEW = 'SET_VIEW';\r\nexport const SET_PANEL = 'SET_PANEL';\r\nexport const SET_MODAL = 'SET_MODAL';","import React from 'react';\r\nimport {Banner} from \"@vkontakte/vkui\";\r\n\r\nconst HabitList = ({habits}) => {\r\n\treturn habits.map((habit, index) => {\r\n\t\treturn (\r\n\t\t\t<Banner\r\n\t\t\t\tkey={index}\r\n\t\t\t\theader={habit.title}\r\n\t\t\t\tsubheader={\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p>Дней подряд: <strong>{habit.daysComplete}</strong> / <strong>{habit.days}</strong></p>\r\n\t\t\t\t\t\t<p>Статус: <strong>{habit.status === 'active' ? 'Активно' : 'Выполнено'}</strong></p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\tmode={'tint'}\r\n\t\t\t\tasideMode={'expand'}\r\n\t\t\t/>\r\n\t\t)\r\n\t})\r\n}\r\n\r\nexport default HabitList;\r\n","import React, {useContext} from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport {CellButton, FixedLayout, FormLayout, Group} from \"@vkontakte/vkui\";\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\nimport {State} from \"../state\";\nimport {SET_MODAL} from \"../state/actions\";\nimport HabitList from \"../components/HabitList\";\n\nconst Home = ({ id, habits }) => {\n\tconst [, dispatch] = useContext(State);\n\treturn (\n\t\t<Panel id={id}>\n\t\t\t<PanelHeader>Example</PanelHeader>\n\t\t\t<Group>\n\t\t\t\t<HabitList habits={habits} />\n\t\t\t</Group>\n\t\t\t<FixedLayout\n\t\t\t\tvertical={'bottom'}\n\t\t\t>\n\t\t\t\t<FormLayout>\n\t\t\t\t\t<CellButton\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tdispatch({type: SET_MODAL, payload: {modal: 'add-habit'}})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tbefore={<Icon24Add/>}\n\t\t\t\t\t>\n\t\t\t\t\t\tСоздать цель\n\t\t\t\t\t</CellButton>\n\t\t\t\t</FormLayout>\n\t\t\t</FixedLayout>\n\t\t</Panel>\n\t)\n};\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n};\n\nexport default Home;\n","import { useState } from 'react';\r\n\r\nexport default (key, initialValue = '') => {\r\n\tconst [value, setValue] = useState(() => {\r\n\t\treturn localStorage.getItem(key) || initialValue;\r\n\t});\r\n\r\n\tconst setLocalStorageValue = (value) => {\r\n\t\tsetValue(value);\r\n\t\tlocalStorage.setItem(key, value)\r\n\t}\r\n\r\n\treturn [value, setLocalStorageValue];\r\n}","import React, {useContext, useReducer} from 'react';\r\nimport {Button, Div, Panel, PanelHeader, Placeholder} from \"@vkontakte/vkui\";\r\nimport Icon56EventOutline from '@vkontakte/icons/dist/56/event_outline';\r\nimport {State} from \"../state\";\r\nimport {SET_VIEW} from \"../state/actions\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\n\r\nconst templates = [\r\n\t{\r\n\t\tid: 1,\r\n\t\ticon: (<Icon56EventOutline/>),\r\n\t\theader: 'Формирование привычки',\r\n\t\tbuttonText: 'Далее',\r\n\t\tplaceholderText: 'В психологии давно установлен факт, что 21 дня достаточно, чтобы привить новые привычки (избавиться от старых) и таким образом улучшить качество жизни',\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\ticon: (<Icon56EventOutline/>),\r\n\t\theader: 'Поставьте цель и идите к ней',\r\n\t\tbuttonText: 'Далее',\r\n\t\tplaceholderText: 'Создайте в приложении цель (привычку, которую хотите изменить) и отмечайте ее успешное ежедневное выполнение',\r\n\t},\r\n\t{\r\n\t\tid: 3,\r\n\t\ticon: (<Icon56EventOutline/>),\r\n\t\theader: 'В формировании привычки важна регулярность',\r\n\t\tbuttonText: 'Начать',\r\n\t\tplaceholderText: 'В случае пропуска ежедневной отметки прогресс сбрасывается, но вы можете запустить счетчик сначала',\r\n\t},\r\n]\r\n\r\nconst initialState = {\r\n\tplaceholder: {\r\n\t\tid: 1,\r\n\t\ticon: (<Icon56EventOutline/>),\r\n\t\theader: 'Формирование привычки',\r\n\t\tbuttonText: 'Далее',\r\n\t\tplaceholderText: 'В психологии давно установлен факт, что 21 дня достаточно, чтобы привить новые привычки (избавиться от старых) и таким образом улучшить качество жизни',\r\n\r\n\t}\r\n}\r\nconst reducer = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'SET_PLACEHOLDER':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tplaceholder: action.payload.placeholder\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\nconst Startup = ({id}) => {\r\n\tconst [, setDone] = useLocalStorage('startup-done');\r\n\tconst [{placeholder}, dispatchStartup] = useReducer(reducer, initialState);\r\n\tconst [, dispatch] = useContext(State);\r\n\treturn (\r\n\t\t<Panel id={id}>\r\n\t\t\t<PanelHeader>Введение</PanelHeader>\r\n\t\t\t<Placeholder\r\n\t\t\t\ticon={placeholder.icon}\r\n\t\t\t\theader={placeholder.header}\r\n\t\t\t\taction={\r\n\t\t\t\t\t[<Div key={'action'}>\r\n\t\t\t\t\t\t<Button onClick={\r\n\t\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\t\tif (placeholder.id < 3) {\r\n\t\t\t\t\t\t\t\t\tdispatchStartup({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'SET_PLACEHOLDER', payload: {\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: templates[placeholder.id],\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tdispatch({type: SET_VIEW, payload: {view: 'home', panel: 'home'}});\r\n\t\t\t\t\t\t\t\t\tsetDone('true');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{placeholder.buttonText}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Div>,\r\n\t\t\t\t\t<Div key={'skip'}>\r\n\t\t\t\t\t\t{placeholder.id !== 3 && <Button\r\n\t\t\t\t\t\t\tmode={'tertiary'}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tdispatch({type: SET_VIEW, payload: {view: 'home', panel: 'home'}});\r\n\t\t\t\t\t\t\t\tsetDone('true');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tПропустить\r\n\t\t\t\t\t\t</Button>}\r\n\t\t\t\t\t</Div>\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{placeholder.placeholderText}\r\n\t\t\t</Placeholder>\r\n\t\t</Panel>\r\n\t)\r\n}\r\n\r\nexport default Startup;\r\n","import React, {useEffect, useContext} from 'react';\r\nimport {Panel} from \"@vkontakte/vkui\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\nimport {State} from \"../state\";\r\nimport {SET_VIEW} from \"../state/actions\";\r\n\r\nconst Preloader = ({id}) => {\r\n\tconst [, dispatch] = useContext(State);\r\n\tconst [doneStartup] = useLocalStorage('startup-done');\r\n\tuseEffect(() => {\r\n\t\tif (!doneStartup) {\r\n\t\t\tdispatch({type: SET_VIEW, payload: {view: 'startup', panel: 'startup'}});\r\n\t\t} else {\r\n\t\t\tconst done = JSON.parse(doneStartup);\r\n\t\t\tif (done) {\r\n\t\t\t\tdispatch({type: SET_VIEW, payload: {view: 'home', panel: 'home'}});\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({type: SET_VIEW, payload: {view: 'startup', panel: 'startup'}});\r\n\t\t\t}\r\n\t\t}\r\n\t}, [dispatch, doneStartup]);\r\n\treturn (\r\n\t\t<Panel id={id}>\r\n\t\t\t<div>Habit</div>\r\n\t\t</Panel>\r\n\t)\r\n}\r\n\r\nexport default Preloader;\r\n","import React, {useState, useContext, useReducer} from 'react';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport {State} from \"./state\";\nimport {\n\tIOS,\n\tModalPage,\n\tModalPageHeader,\n\tModalRoot,\n\tPanelHeaderButton,\n\tRoot,\n\tplatform,\n\tFormLayout, Input, Slider, CellButton\n} from \"@vkontakte/vkui\";\nimport Startup from \"./panels/Startup\";\nimport Preloader from \"./panels/Preloader\";\nimport {SET_MODAL} from \"./state/actions\";\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\n\nconst osName = platform();\nconst SET_HABITS = 'SET_HABITS';\n\nconst initialState = {\n\thabits: []\n}\n\nconst reducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase SET_HABITS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\thabits: [...state.habits, action.payload.habit]\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nconst App = () => {\n\tconst [state, dispatch] = useContext(State);\n\tconst [appState, dispatchApp] = useReducer(reducer, initialState);\n\tconst [title, setTitle] = useState('');\n\tconst [days, setDays] = useState(21);\n\n\tconst modalBack = () => {\n\t\tdispatch({type: SET_MODAL, payload: {modal: null}});\n\t}\n\n\tconst modal = (\n\t\t<ModalRoot\n\t\t\tactiveModal={state.activeModal}\n\t\t\tonClose={modalBack}\n\t\t>\n\t\t\t<ModalPage\n\t\t\t\tid={'add-habit'}\n\t\t\t\tonClose={modalBack}\n\t\t\t\theader={\n\t\t\t\t\t<ModalPageHeader\n\t\t\t\t\t\tleft={osName !== IOS && <PanelHeaderButton onClick={modalBack}><Icon24Cancel/></PanelHeaderButton>}\n\t\t\t\t\t\tright={osName === IOS &&\n\t\t\t\t\t\t<PanelHeaderButton onClick={modalBack}>{osName === IOS ? 'Готово' : <Icon24Dismiss/>}</PanelHeaderButton>}\n\t\t\t\t\t>\n\t\t\t\t\t\tСоздать цель\n\t\t\t\t\t</ModalPageHeader>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<FormLayout\n\t\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tdispatchApp({\n\t\t\t\t\t\t\ttype: SET_HABITS, payload: {\n\t\t\t\t\t\t\t\thabit: {\n\t\t\t\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\t\t\t\tdays: days,\n\t\t\t\t\t\t\t\t\tlastModified: new Date(),\n\t\t\t\t\t\t\t\t\tdaysComplete: 0,\n\t\t\t\t\t\t\t\t\tstatus: 'active' // active || done\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tdispatch({type: SET_MODAL, payload: {modal: null}});\n\t\t\t\t\t\tsetDays(21);\n\t\t\t\t\t\tsetTitle('');\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Input\n\t\t\t\t\t\trequired\n\t\t\t\t\t\ttype={'text'}\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetTitle(e.currentTarget.value)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttop={'Название цели'}\n\t\t\t\t\t/>\n\t\t\t\t\t<Slider min={1} max={21} step={1} value={days} top={`Кол-во дней: ${days}`} onChange={(d) => {\n\t\t\t\t\t\tsetDays(d)\n\t\t\t\t\t}}/>\n\t\t\t\t\t<CellButton\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t// dispatch({type: SET_MODAL, payload: {modal: 'add-habit'}})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tbefore={<Icon24Add/>}\n\t\t\t\t\t>\n\t\t\t\t\t\tСоздать цель\n\t\t\t\t\t</CellButton>\n\t\t\t\t</FormLayout>\n\t\t\t</ModalPage>\n\t\t</ModalRoot>\n\t)\n\n\treturn (\n\t\t<Root activeView={state.view}>\n\t\t\t<View activePanel={state.panel} id={'preloader'}>\n\t\t\t\t<Preloader id={'preloader'}/>\n\t\t\t</View>\n\t\t\t<View activePanel={state.panel} id={'startup'}>\n\t\t\t\t<Startup id={'startup'}/>\n\t\t\t</View>\n\t\t\t<View activePanel={state.panel} id={'home'} modal={modal}>\n\t\t\t\t<Home id='home' habits={appState.habits}/>\n\t\t\t</View>\n\t\t</Root>\n\t);\n}\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\nimport {StateProvider} from \"./state\";\n\nbridge.subscribe(({detail: {type, data}}) => {\n  if (type === 'VKWebAppUpdateConfig') {\n    const schemeAttribute = document.createAttribute('scheme');\n    schemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n    document.body.attributes.setNamedItem(schemeAttribute);\n  }\n});\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(\n  <StateProvider>\n    <App />\n  </StateProvider>,\n  document.getElementById(\"root\")\n);\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}